\documentclass[12pt]{article}
\newcommand{\bottomMargin}{2cm}

\newcommand{\header}{
	ДИЗАЙН И АНАЛИЗ НА АЛГОРИТМИ - \\ ПРАКТИКУМ\\
	\vspace{0.1cm}
        Летен семестър, 2024 г., домашно\\
	\vspace{0.1cm}
}
\newcommand{\tl}{$0,8$ сек.}
\newcommand{\ml}{$256$ MB}

\input{structure/structure.tex}

\begin{document}
\section{Задача H6. УМНОЖАВАЙ}

Дадено ни е мултимножество $S=\{a_1, a_2, a_3, \dots, a_N\}$ от $N$ цели положителни числа. Докато в мултимножеството $S$ има поне два различни елемента $a$ и $b$, които \textbf{не} са взаимно прости, можем да ги изтрием и да добавим произведението им $a \cdot b$ към него. Интересуваме се каква е най-малката големина на $S$, която може да се постигне чрез прилагане на дадената операция множество пъти. Напишете програма \textbf{\texttt{multiply}}, отговаряща на въпроса.


\subsection{Вход}

На първия ред на стандартния вход ще бъде зададено цялото число $N$ - мощността на мултимножеството $S$. На втория ред ще бъдат зададени $N$ на брой цели числа - елементите на мултимножеството, в случаен ред.

\subsection{Изход}

На единствен ред на стандартния изход изведете едно цяло число - най-малката големина на $S$, която може да постигне чрез прилагане на дадената операция.


\subsection{Ограничения}

\vspace{0.1em}
\begin{itemize}
	\item $1 \leq N \leq 500~000$
	\item $1 \leq a_i \leq 10^7$
\end{itemize}

\subsection{Подзадачи}
\begin{table}[ht]
	\begin{tblr}{|Q[c,m]|Q[c,m]|Q[c,m]|Q[c,m]|Q[c,m]|Q[c,m]|}
		\hline
		\textbf{Подзадача} & \textbf{Необходими подзадачи} & \textbf{Точки} & $N$ & $a_i$ & \textbf{Други ограничения}\\
		\hline
		$1$ & -- & $0$ & -- & -- & Примерните тестове. \\ 
		\hline
		$2$ & -- & $10$ & $\leq 5.10^5$ & Прости числа & -- \\ 
		\hline
		$3$ & $1$ & $15$ & $\leq 100$ & $\leq 10^4$ & -- \\ 
		\hline
		$4$ & $1, 3$ & $15$ & $\leq 100$ & $\leq 10^7$ & -- \\ 
		\hline
		$5$ & $1, 3, 4$ & $15$ & $\leq 2\ 500$ & $\leq 10^7$ & -- \\
		\hline
        $6$ & $1, 3$ & $30$ & $\leq 10^5$ & $\leq 5.10^5$ & -- \\
        \hline
        $7$ & $1-6$ & $15$ & $\leq 5.10^5$ & $\leq 10^7$ & -- \\
		\hline
	\end{tblr}
	\caption*{Точките за дадена подзадача се получават само ако се преминат успешно всички тестове, предвидени за нея и необходимите подзадачи.}
\end{table}
\FloatBarrier

\subsection{Примери}

\begin{table}[ht]
	\begin{tblr}{|l|l|X[j]|}
		\hline
		\textbf{Вход} & \textbf{Изход} & \textbf{Обяснение на примера}\\
		\hline
		\texttt
            {\makecell[lt]{6\\1 13 5 3 1 5}} & 
            \texttt{5} &
            {Единствено $5$ и $5$ не са взаимно прости числа, така че може да приложим операцията за тях и да получим мултимножеството $\{25, 1, 13, 3, 1\}$, което е с големина $5$. Операцията не може да бъде прилагана повече върху полученото мултимножество.}\\
		\hline
		\texttt
            {\makecell[lt]{5\\5 2 25 7 14}} & 
            \texttt{2} &
            {Първо можем да приложим операцията за $5$ и $25$, след което да приложим операцията за $14$ и $2$ и накрая да приложим операцията за $7$ и $28$. Така накрая ще получим $\{125, 196\}$.} \\
		\hline
	\end{tblr}
\end{table}

\subsection{Забележка}
За решаване на задачата за пълен брой точки може да е нужно използването на решето на Ератостен. За повече информация можете да прочетете подсекциите ,,Решето на Ератостен'' и ,,Факторизация на много числа'' на следната \href{https://www.informatika.bg/lectures/primes}{страница}.

\end{document}
